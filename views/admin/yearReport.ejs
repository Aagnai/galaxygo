<div class="container-fluid pt-4 px-4">
  <div class="row g-4">
<div class="col-12">
  <div class="bg-secondary rounded h-100 p-4">
      <h6 class="mb-4">Responsive Table</h6>
      <div class="table-responsive">
          <table class="table">
              <thead>
                  <tr>
                      <th scope="col">#</th>
                      <th scope="col">First Name</th>
                      <th scope="col">Last Name</th>
                      <th scope="col">Email</th>
                      <th scope="col">Country</th>
                      <th scope="col">ZIP</th>
                      <th scope="col">Status</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <th scope="row">1</th>
                      <td>John</td>
                      <td>Doe</td>
                      <td>jhon@email.com</td>
                      <td>USA</td>
                      <td>123</td>
                      <td>Member</td>
                  </tr>
                  <tr>
                      <th scope="row">2</th>
                      <td>Mark</td>
                      <td>Otto</td>
                      <td>mark@email.com</td>
                      <td>UK</td>
                      <td>456</td>
                      <td>Member</td>
                  </tr>
                  <tr>
                      <th scope="row">3</th>
                      <td>Jacob</td>
                      <td>Thornton</td>
                      <td>jacob@email.com</td>
                      <td>AU</td>
                      <td>789</td>
                      <td>Member</td>
                  </tr>
              </tbody>
          </table>
      </div>
  </div>
</div>
</div>
</div>
<!-- edit -->

<main class="h-full pb-16 overflow-y-auto">
    <div class="container px-6 mx-auto grid">
      <h2 class="my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200">
        Year Report
      </h2>
     
      <!-- TABLE -->
      <!-- table start -->
        <div class="mt-4 text-lg font-semibold text-gray-600 dark:text-gray-300">
      <button  id="download-button" type="button" class="btn btn-primary btn-ls btn-block login-button  " >
        <a
       
          class="block w-full px-4 py-2 mt-4 text-sm font-medium leading-5 text-center text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple" >
          PDF
           </a>
        </button>
        
    </div>
      <div class="w-full overflow-hidden rounded-lg shadow-xs mt-2">
        <div class="w-full overflow-x-auto" id="invoice">
          <table id="table" class="w-full whitespace-no-wrap" >
            <thead>
              <tr
                class="text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800"
              >
                <th class="px-4 py-3">Year</th>
                <th class="px-4 py-3">Total Order</th>
                <th class="px-4 py-3">Total Sold Product</th>
                <th class="px-4 py-3">Amount</th>
                <th class="px-4 py-3">Profit</th>
                

              </tr>
            </thead>
            <tbody
              class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800"
            >
              <% for(let sales of salesReport) { %>
              <tr class="text-gray-700 dark:text-gray-400">
                <td class="px-4 py-3">
                  <div class="flex items-center text-sm">
                    <!-- Avatar with inset shadow -->
                   
                    <div>   

                      <p class="font-semibold" ><%= sales._id.year %></p>
                    </div>
                  </div>
                </td>
                    <td class="px-4 py-3 text-sm"> <%= sales.count %></td>
                <td class="px-4 py-3 text-sm"><%= sales.products %></td>
                <td class="px-4 py-3 text-sm"> <%= sales.totalPrice %></td>
                <% let profit=Math.round((sales.totalPrice * 10)/100 )%>

                <td class="px-4 py-3 text-sm">â‚¹ <%= profit %></td>
              
              </tr>
              <% } %>
            </tbody>
          </table>
        </div>
        
      </div>
      <!--table end -->
    </div>
    <!-- 
  </div>
  
  
  </div> -->
  </main>
  <script>

    function toMonthName(monthNumber) {
      const date = new Date();
      date.setMonth(monthNumber - 1);
    
      return date.toLocaleString('en-US', {
        month: 'long',
      });
    }
    
    
      </script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</script>
<script>
   const button = document.getElementById('download-button');

   function generatePDF() {
       // Choose the element that your content will be rendered to.
       const element = document.getElementById('invoice');
       // Choose the element and save the PDF for your user.
       html2pdf().from(element).save();
   }

   button.addEventListener('click', generatePDF);
</script>
<script>
  $(document).ready(function () {
      $('#table').DataTable();
  });
  </script>
 